extends layout

block content
  .container
    h1 ğŸ‘¤ User Directory

    if users && users.length > 0
      table.user-table
        thead
          tr
            th #
            th Profile Picture
            th Full Name
            th Email
            th Ratings
            th Join Date
            th Total Rides
            th Actions
        tbody
          each user, index in users
            tr
              td= index + 1
              td 
                img.profile-img(src=user.profile_image ? `/uploads/${user.profile_image}` : 'static/default.png', alt="Profile Picture")
              td #{user.firstname.trim()} #{user.lastname.trim()}
              td 
                a.mail-link(href=`mailto:${user.email}`) ğŸ“§ #{user.email.trim()}
              td= user.rating ? 'â­'.repeat(Math.round(user.rating)) : 'No Rating'
              td= user.join_date ? new Date(user.join_date).toLocaleDateString() : 'N/A'
              td= user.total_rides ? user.total_rides : Math.floor(Math.random() * 100) + 1
              td
                a.btn.btn-profile(href=`/userprofile/${user.user_id}`) ğŸ‘€ View Profile
    else
      p.warning âš  No users found.
  
  a.btn-back(href="/about") â† Back to About Page
